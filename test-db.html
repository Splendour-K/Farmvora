<!DOCTYPE html>
<html>
<head>
  <title>FarmVora DB Test</title>
</head>
<body>
  <h1>Testing Supabase Connection</h1>
  <div id="output"></div>

  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

    const supabaseUrl = 'https://0ec90b57d6e95fcbda19832f.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJib2x0IiwicmVmIjoiMGVjOTBiNTdkNmU5NWZjYmRhMTk4MzJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4ODE1NzQsImV4cCI6MTc1ODg4MTU3NH0.9I8-U0x86Ak8t2DGaIk0HfvTSLsAyzdnz-Nw00mMkKw';

    const supabase = createClient(supabaseUrl, supabaseKey);
    const output = document.getElementById('output');

    output.innerHTML = '<p>Testing connection...</p>';

    try {
      const { data, error } = await supabase.from('projects').select('count');

      if (error) {
        output.innerHTML += `<p style="color: red;">Error: ${error.message}</p>`;
        output.innerHTML += `<p>Hint: ${error.hint || 'No hint available'}</p>`;
        output.innerHTML += `<p>Details: ${error.details || 'No details'}</p>`;
      } else {
        output.innerHTML += `<p style="color: green;">âœ… Connection successful!</p>`;
        output.innerHTML += `<p>Projects: ${JSON.stringify(data)}</p>`;
      }
    } catch (err) {
      output.innerHTML += `<p style="color: red;">Exception: ${err.message}</p>`;
    }
  </script>
</body>
</html>
